{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _objectSpread = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/objectSpread2\");\n\nvar _createForOfIteratorHelper = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/createForOfIteratorHelper\");\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nvar _get = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/get\");\n\nvar _getPrototypeOf = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\n\nvar _createSuper = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/createSuper\");\n\nvar _wrapNativeSuper = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/wrapNativeSuper\");\n\nvar _wrapRegExp = require(\"C:\\\\Users\\\\muska\\\\OneDrive\\\\Desktop\\\\NotesApp\\\\node_modules\\\\@babel\\\\runtime/helpers/wrapRegExp\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommaAndColonSeparatedRecord = exports.ConnectionString = exports.redactConnectionString = void 0;\n\nvar whatwg_url_1 = require(\"whatwg-url\");\n\nvar redact_1 = require(\"./redact\");\n\nObject.defineProperty(exports, \"redactConnectionString\", {\n  enumerable: true,\n  get: function get() {\n    return redact_1.redactConnectionString;\n  }\n});\nvar DUMMY_HOSTNAME = '__this_is_a_placeholder__';\n\nfunction connectionStringHasValidScheme(connectionString) {\n  return connectionString.startsWith('mongodb://') || connectionString.startsWith('mongodb+srv://');\n}\n\nvar HOSTS_REGEX = /*#__PURE__*/_wrapRegExp(/^([^/]+):\\/\\/(?:([^:]*)(?::([^@]*))?@)?((?!:)[^/?@]*)(.*)/, {\n  protocol: 1,\n  username: 2,\n  password: 3,\n  hosts: 4,\n  rest: 5\n});\n\nvar CaseInsensitiveMap = /*#__PURE__*/function (_Map) {\n  _inherits(CaseInsensitiveMap, _Map);\n\n  var _super = _createSuper(CaseInsensitiveMap);\n\n  function CaseInsensitiveMap() {\n    _classCallCheck(this, CaseInsensitiveMap);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CaseInsensitiveMap, [{\n    key: \"delete\",\n    value: function _delete(name) {\n      return _get(_getPrototypeOf(CaseInsensitiveMap.prototype), \"delete\", this).call(this, this._normalizeKey(name));\n    }\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      return _get(_getPrototypeOf(CaseInsensitiveMap.prototype), \"get\", this).call(this, this._normalizeKey(name));\n    }\n  }, {\n    key: \"has\",\n    value: function has(name) {\n      return _get(_getPrototypeOf(CaseInsensitiveMap.prototype), \"has\", this).call(this, this._normalizeKey(name));\n    }\n  }, {\n    key: \"set\",\n    value: function set(name, value) {\n      return _get(_getPrototypeOf(CaseInsensitiveMap.prototype), \"set\", this).call(this, this._normalizeKey(name), value);\n    }\n  }, {\n    key: \"_normalizeKey\",\n    value: function _normalizeKey(name) {\n      name = \"\".concat(name);\n\n      var _iterator = _createForOfIteratorHelper(this.keys()),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n\n          if (key.toLowerCase() === name.toLowerCase()) {\n            name = key;\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return name;\n    }\n  }]);\n\n  return CaseInsensitiveMap;\n}( /*#__PURE__*/_wrapNativeSuper(Map));\n\nfunction caseInsenstiveURLSearchParams(Ctor) {\n  return /*#__PURE__*/function (_Ctor, _Symbol$iterator) {\n    _inherits(CaseInsenstiveURLSearchParams, _Ctor);\n\n    var _super2 = _createSuper(CaseInsenstiveURLSearchParams);\n\n    function CaseInsenstiveURLSearchParams() {\n      _classCallCheck(this, CaseInsenstiveURLSearchParams);\n\n      return _super2.apply(this, arguments);\n    }\n\n    _createClass(CaseInsenstiveURLSearchParams, [{\n      key: \"append\",\n      value: function append(name, value) {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), \"append\", this).call(this, this._normalizeKey(name), value);\n      }\n    }, {\n      key: \"delete\",\n      value: function _delete(name) {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), \"delete\", this).call(this, this._normalizeKey(name));\n      }\n    }, {\n      key: \"get\",\n      value: function get(name) {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), \"get\", this).call(this, this._normalizeKey(name));\n      }\n    }, {\n      key: \"getAll\",\n      value: function getAll(name) {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), \"getAll\", this).call(this, this._normalizeKey(name));\n      }\n    }, {\n      key: \"has\",\n      value: function has(name) {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), \"has\", this).call(this, this._normalizeKey(name));\n      }\n    }, {\n      key: \"set\",\n      value: function set(name, value) {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), \"set\", this).call(this, this._normalizeKey(name), value);\n      }\n    }, {\n      key: \"keys\",\n      value: function keys() {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), \"keys\", this).call(this);\n      }\n    }, {\n      key: \"values\",\n      value: function values() {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), \"values\", this).call(this);\n      }\n    }, {\n      key: \"entries\",\n      value: function entries() {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), \"entries\", this).call(this);\n      }\n    }, {\n      key: _Symbol$iterator,\n      value: function value() {\n        return _get(_getPrototypeOf(CaseInsenstiveURLSearchParams.prototype), Symbol.iterator, this).call(this);\n      }\n    }, {\n      key: \"_normalizeKey\",\n      value: function _normalizeKey(name) {\n        return CaseInsensitiveMap.prototype._normalizeKey.call(this, name);\n      }\n    }]);\n\n    return CaseInsenstiveURLSearchParams;\n  }(Ctor, Symbol.iterator);\n}\n\nvar URLWithoutHost = /*#__PURE__*/function (_whatwg_url_1$URL) {\n  _inherits(URLWithoutHost, _whatwg_url_1$URL);\n\n  var _super3 = _createSuper(URLWithoutHost);\n\n  function URLWithoutHost() {\n    _classCallCheck(this, URLWithoutHost);\n\n    return _super3.apply(this, arguments);\n  }\n\n  return _createClass(URLWithoutHost);\n}(whatwg_url_1.URL);\n\nvar MongoParseError = /*#__PURE__*/function (_Error) {\n  _inherits(MongoParseError, _Error);\n\n  var _super4 = _createSuper(MongoParseError);\n\n  function MongoParseError() {\n    _classCallCheck(this, MongoParseError);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(MongoParseError, [{\n    key: \"name\",\n    get: function get() {\n      return 'MongoParseError';\n    }\n  }]);\n\n  return MongoParseError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar ConnectionString = /*#__PURE__*/function (_URLWithoutHost, _Symbol$for) {\n  _inherits(ConnectionString, _URLWithoutHost);\n\n  var _super5 = _createSuper(ConnectionString);\n\n  function ConnectionString(uri) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, ConnectionString);\n\n    var _a;\n\n    var looseValidation = options.looseValidation;\n\n    if (!looseValidation && !connectionStringHasValidScheme(uri)) {\n      throw new MongoParseError('Invalid scheme, expected connection string to start with \"mongodb://\" or \"mongodb+srv://\"');\n    }\n\n    var match = uri.match(HOSTS_REGEX);\n\n    if (!match) {\n      throw new MongoParseError(\"Invalid connection string \\\"\".concat(uri, \"\\\"\"));\n    }\n\n    var _ref = (_a = match.groups) !== null && _a !== void 0 ? _a : {},\n        protocol = _ref.protocol,\n        username = _ref.username,\n        password = _ref.password,\n        hosts = _ref.hosts,\n        rest = _ref.rest;\n\n    if (!looseValidation) {\n      if (!protocol || !hosts) {\n        throw new MongoParseError(\"Protocol and host list are required in \\\"\".concat(uri, \"\\\"\"));\n      }\n\n      try {\n        decodeURIComponent(username !== null && username !== void 0 ? username : '');\n        decodeURIComponent(password !== null && password !== void 0 ? password : '');\n      } catch (err) {\n        throw new MongoParseError(err.message);\n      }\n\n      var illegalCharacters = /[:/?#[\\]@]/gi;\n\n      if (username === null || username === void 0 ? void 0 : username.match(illegalCharacters)) {\n        throw new MongoParseError(\"Username contains unescaped characters \".concat(username));\n      }\n\n      if (!username || !password) {\n        var uriWithoutProtocol = uri.replace(\"\".concat(protocol, \"://\"), '');\n\n        if (uriWithoutProtocol.startsWith('@') || uriWithoutProtocol.startsWith(':')) {\n          throw new MongoParseError('URI contained empty userinfo section');\n        }\n      }\n\n      if (password === null || password === void 0 ? void 0 : password.match(illegalCharacters)) {\n        throw new MongoParseError('Password contains unescaped characters');\n      }\n    }\n\n    var authString = '';\n    if (typeof username === 'string') authString += username;\n    if (typeof password === 'string') authString += \":\".concat(password);\n    if (authString) authString += '@';\n\n    try {\n      _this = _super5.call(this, \"\".concat(protocol.toLowerCase(), \"://\").concat(authString).concat(DUMMY_HOSTNAME).concat(rest));\n    } catch (err) {\n      if (looseValidation) {\n        new ConnectionString(uri, _objectSpread(_objectSpread({}, options), {}, {\n          looseValidation: false\n        }));\n      }\n\n      if (typeof err.message === 'string') {\n        err.message = err.message.replace(DUMMY_HOSTNAME, hosts);\n      }\n\n      throw err;\n    }\n\n    _this._hosts = hosts.split(',');\n\n    if (!looseValidation) {\n      if (_this.isSRV && _this.hosts.length !== 1) {\n        throw new MongoParseError('mongodb+srv URI cannot have multiple service names');\n      }\n\n      if (_this.isSRV && _this.hosts.some(function (host) {\n        return host.includes(':');\n      })) {\n        throw new MongoParseError('mongodb+srv URI cannot have port number');\n      }\n    }\n\n    if (!_this.pathname) {\n      _this.pathname = '/';\n    }\n\n    Object.setPrototypeOf(_this.searchParams, caseInsenstiveURLSearchParams(_this.searchParams.constructor).prototype);\n    return _this;\n  }\n\n  _createClass(ConnectionString, [{\n    key: \"host\",\n    get: function get() {\n      return DUMMY_HOSTNAME;\n    },\n    set: function set(_ignored) {\n      throw new Error('No single host for connection string');\n    }\n  }, {\n    key: \"hostname\",\n    get: function get() {\n      return DUMMY_HOSTNAME;\n    },\n    set: function set(_ignored) {\n      throw new Error('No single host for connection string');\n    }\n  }, {\n    key: \"port\",\n    get: function get() {\n      return '';\n    },\n    set: function set(_ignored) {\n      throw new Error('No single host for connection string');\n    }\n  }, {\n    key: \"href\",\n    get: function get() {\n      return this.toString();\n    },\n    set: function set(_ignored) {\n      throw new Error('Cannot set href for connection strings');\n    }\n  }, {\n    key: \"isSRV\",\n    get: function get() {\n      return this.protocol.includes('srv');\n    }\n  }, {\n    key: \"hosts\",\n    get: function get() {\n      return this._hosts;\n    },\n    set: function set(list) {\n      this._hosts = list;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return _get(_getPrototypeOf(ConnectionString.prototype), \"toString\", this).call(this).replace(DUMMY_HOSTNAME, this.hosts.join(','));\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new ConnectionString(this.toString(), {\n        looseValidation: true\n      });\n    }\n  }, {\n    key: \"redact\",\n    value: function redact(options) {\n      return (0, redact_1.redactValidConnectionString)(this, options);\n    }\n  }, {\n    key: \"typedSearchParams\",\n    value: function typedSearchParams() {\n      var sametype = false && new (caseInsenstiveURLSearchParams(whatwg_url_1.URLSearchParams))();\n      return this.searchParams;\n    }\n  }, {\n    key: _Symbol$for,\n    value: function value() {\n      var href = this.href,\n          origin = this.origin,\n          protocol = this.protocol,\n          username = this.username,\n          password = this.password,\n          hosts = this.hosts,\n          pathname = this.pathname,\n          search = this.search,\n          searchParams = this.searchParams,\n          hash = this.hash;\n      return {\n        href: href,\n        origin: origin,\n        protocol: protocol,\n        username: username,\n        password: password,\n        hosts: hosts,\n        pathname: pathname,\n        search: search,\n        searchParams: searchParams,\n        hash: hash\n      };\n    }\n  }]);\n\n  return ConnectionString;\n}(URLWithoutHost, Symbol.for('nodejs.util.inspect.custom'));\n\nexports.ConnectionString = ConnectionString;\n\nvar CommaAndColonSeparatedRecord = /*#__PURE__*/function (_CaseInsensitiveMap) {\n  _inherits(CommaAndColonSeparatedRecord, _CaseInsensitiveMap);\n\n  var _super6 = _createSuper(CommaAndColonSeparatedRecord);\n\n  function CommaAndColonSeparatedRecord(from) {\n    var _this2;\n\n    _classCallCheck(this, CommaAndColonSeparatedRecord);\n\n    _this2 = _super6.call(this);\n\n    var _iterator2 = _createForOfIteratorHelper((from !== null && from !== void 0 ? from : '').split(',')),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var entry = _step2.value;\n        if (!entry) continue;\n        var colonIndex = entry.indexOf(':');\n\n        if (colonIndex === -1) {\n          _this2.set(entry, '');\n        } else {\n          _this2.set(entry.slice(0, colonIndex), entry.slice(colonIndex + 1));\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return _this2;\n  }\n\n  _createClass(CommaAndColonSeparatedRecord, [{\n    key: \"toString\",\n    value: function toString() {\n      return _toConsumableArray(this).map(function (entry) {\n        return entry.join(':');\n      }).join(',');\n    }\n  }]);\n\n  return CommaAndColonSeparatedRecord;\n}(CaseInsensitiveMap);\n\nexports.CommaAndColonSeparatedRecord = CommaAndColonSeparatedRecord;\nexports.default = ConnectionString;","map":null,"metadata":{},"sourceType":"script"}